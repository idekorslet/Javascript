<!DOCTYPE html>
<html lang="en">

<head>
    <title>List value by checkbox</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <div class="container mt-3">
        <div class="d-flex flex-row">
            <div class="col-sm-2" style="width: 170px;">
                <div class="card bg-light mb-2" style="max-width: 10rem;">
                    <div class="card-header" style="height: 30px; width: 160px;">
                        <h6>Pilih merk:</h6>
                    </div>
                    <div class="card-body" style="padding-top: 7px;">
                        <div class="form-check form-switch">                            
                            <input class="form-check-input" type="checkbox" role="switch" id="apple_check" checked value="apple" onchange="updateBrandName(this)">
                            <label class="form-check-label" for="apple_check">Apple</label>
                        </div>
                        <div class="form-check form-switch">                            
                            <input class="form-check-input" type="checkbox" role="switch" id="nokia_check" value="nokia" onchange="updateBrandName(this)">
                            <label class="form-check-label" for="nokia_check">Nokia</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="samsung_check" value="samsung" onchange="updateBrandName(this)">
                            <label class="form-check-label" for="samsung_check">Samsung</label>
                        </div>                        
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="sony_check" value="sony" onchange="updateBrandName(this)">
                            <label class="form-check-label" for="sony_check">Sony</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="output"></div>
    </div>

    <script type="text/javascript">
        var merk_list = [];

        function updateBrandName(obj) {
            // let checkbox_id = document.getElementById(obj.id);
            let checkbox_id = obj.id; // langsung seperti ini ternyata bisa
            let brand_name = checkbox_id.value;
            let index = merk_list.indexOf(brand_name);

            if (checkbox_id.checked) {
                // jika index < 0 berarti belum ada nama brand/merk di merk_list, jadi masukkan ke dalam merk_list
                if (index < 0) merk_list.push(brand_name);
            }
            else {
                // jika checkbox yang dipilih checked == false, maka hapus nama merk yang ada di merk_list jika merk tersebut ada
                if (index > -1) merk_list.splice(index, 1);
            }

            document.getElementById("output").innerHTML = "Merk list: [" + merk_list.toString() + "] total item: " + merk_list.length.toString();
        }

        window.onload = onLoadPage();

        function onLoadPage() {
            // cara 1 / option 1:
            // updateBrandName(document.getElementById("apple_check"));

            // cara 2 / option 2:
            document.getElementById("apple_check").addEventListener("change", updateBrandName(document.getElementById("apple_check")));
        }      

    </script>
</body>

</html>
